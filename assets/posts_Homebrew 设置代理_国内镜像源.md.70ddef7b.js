import{_ as s,o as a,c as n,Q as o}from"./chunks/framework.b1192e57.js";const h=JSON.parse('{"title":"Homebrew 设置代理&国内镜像源","description":"Homebrew 设置代理&国内镜像源","frontmatter":{"title":"Homebrew 设置代理&国内镜像源","description":"Homebrew 设置代理&国内镜像源","date":"2024-05-10T00:00:00.000Z","tags":["homebrew","MacOS","proxy"]},"headers":[],"relativePath":"posts/Homebrew 设置代理&国内镜像源.md","filePath":"posts/Homebrew 设置代理&国内镜像源.md","lastUpdated":1719813050000}'),p={name:"posts/Homebrew 设置代理&国内镜像源.md"},l=o(`<blockquote><p>参考文档</p><ol><li>清华镜像 <a href="https://mirrors.tuna.tsinghua.edu.cn/help/homebrew/" target="_blank" rel="noreferrer">https://mirrors.tuna.tsinghua.edu.cn/help/homebrew/</a></li><li>proxy代理设置</li></ol></blockquote><h2 id="设置国内镜像代理" tabindex="-1">设置国内镜像代理 <a class="header-anchor" href="#设置国内镜像代理" aria-label="Permalink to &quot;设置国内镜像代理&quot;">​</a></h2><blockquote><p>日常使用 可设置如下环境变量使用本站提供的 Homebrew 镜像：</p></blockquote><div class="language-Bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> HOMEBREW_API_DOMAIN</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/api&quot;</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> HOMEBREW_BOTTLE_DOMAIN</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles&quot;</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> HOMEBREW_BREW_GIT_REMOTE</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git&quot;</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> HOMEBREW_CORE_GIT_REMOTE</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git&quot;</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> HOMEBREW_PIP_INDEX_URL</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;https://pypi.tuna.tsinghua.edu.cn/simple&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> HOMEBREW_API_DOMAIN</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/api&quot;</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> HOMEBREW_BOTTLE_DOMAIN</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles&quot;</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> HOMEBREW_BREW_GIT_REMOTE</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git&quot;</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> HOMEBREW_CORE_GIT_REMOTE</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git&quot;</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> HOMEBREW_PIP_INDEX_URL</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;https://pypi.tuna.tsinghua.edu.cn/simple&quot;</span></span></code></pre></div><h3 id="重置国内镜像源" tabindex="-1">重置国内镜像源 <a class="header-anchor" href="#重置国内镜像源" aria-label="Permalink to &quot;重置国内镜像源&quot;">​</a></h3><div class="language-Bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># brew 程序本身，Homebrew / Linuxbrew 相同</span></span>
<span class="line"><span style="color:#79B8FF;">unset</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">HOMEBREW_BREW_GIT_REMOTE</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-C</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;$(</span><span style="color:#B392F0;">brew</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">--repo</span><span style="color:#9ECBFF;">)&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">remote</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">set-url</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">origin</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://github.com/Homebrew/brew</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 以下针对 macOS 系统上的 Homebrew</span></span>
<span class="line"><span style="color:#79B8FF;">unset</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">HOMEBREW_API_DOMAIN</span></span>
<span class="line"><span style="color:#79B8FF;">unset</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">HOMEBREW_CORE_GIT_REMOTE</span></span>
<span class="line"><span style="color:#E1E4E8;">BREW_TAPS</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;$(</span><span style="color:#E1E4E8;">BREW_TAPS</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;$(</span><span style="color:#B392F0;">brew</span><span style="color:#9ECBFF;"> tap </span><span style="color:#F97583;">2&gt;</span><span style="color:#9ECBFF;">/dev/null)&quot;; </span><span style="color:#79B8FF;">echo</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-n</span><span style="color:#9ECBFF;"> &quot;\${</span><span style="color:#E1E4E8;">BREW_TAPS</span><span style="color:#F97583;">//</span><span style="color:#9ECBFF;">$&#39;</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#F97583;">/:</span><span style="color:#9ECBFF;">}&quot;)&quot;</span></span>
<span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> tap </span><span style="color:#F97583;">in</span><span style="color:#E1E4E8;"> core cask{</span><span style="color:#B392F0;">,-fonts,-versions}</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">command-not-found</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">services</span><span style="color:#E1E4E8;">; </span><span style="color:#F97583;">do</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> [[ </span><span style="color:#9ECBFF;">&quot;:\${</span><span style="color:#E1E4E8;">BREW_TAPS</span><span style="color:#9ECBFF;">}:&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#9ECBFF;">&quot;:homebrew/\${</span><span style="color:#E1E4E8;">tap</span><span style="color:#9ECBFF;">}:&quot;</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> ]]; </span><span style="color:#F97583;">then</span><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;"># 只复原已安装的 Tap</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">brew</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tap</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--custom-remote</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;homebrew/\${</span><span style="color:#E1E4E8;">tap</span><span style="color:#9ECBFF;">}&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;https://github.com/Homebrew/homebrew-\${</span><span style="color:#E1E4E8;">tap</span><span style="color:#9ECBFF;">}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">fi</span></span>
<span class="line"><span style="color:#F97583;">done</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 重新拉取远程</span></span>
<span class="line"><span style="color:#B392F0;">brew</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">update</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># brew 程序本身，Homebrew / Linuxbrew 相同</span></span>
<span class="line"><span style="color:#005CC5;">unset</span><span style="color:#24292E;"> </span><span style="color:#032F62;">HOMEBREW_BREW_GIT_REMOTE</span></span>
<span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-C</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;$(</span><span style="color:#6F42C1;">brew</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">--repo</span><span style="color:#032F62;">)&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">remote</span><span style="color:#24292E;"> </span><span style="color:#032F62;">set-url</span><span style="color:#24292E;"> </span><span style="color:#032F62;">origin</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://github.com/Homebrew/brew</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 以下针对 macOS 系统上的 Homebrew</span></span>
<span class="line"><span style="color:#005CC5;">unset</span><span style="color:#24292E;"> </span><span style="color:#032F62;">HOMEBREW_API_DOMAIN</span></span>
<span class="line"><span style="color:#005CC5;">unset</span><span style="color:#24292E;"> </span><span style="color:#032F62;">HOMEBREW_CORE_GIT_REMOTE</span></span>
<span class="line"><span style="color:#24292E;">BREW_TAPS</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;$(</span><span style="color:#24292E;">BREW_TAPS</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;$(</span><span style="color:#6F42C1;">brew</span><span style="color:#032F62;"> tap </span><span style="color:#D73A49;">2&gt;</span><span style="color:#032F62;">/dev/null)&quot;; </span><span style="color:#005CC5;">echo</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-n</span><span style="color:#032F62;"> &quot;\${</span><span style="color:#24292E;">BREW_TAPS</span><span style="color:#D73A49;">//</span><span style="color:#032F62;">$&#39;</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&#39;</span><span style="color:#D73A49;">/:</span><span style="color:#032F62;">}&quot;)&quot;</span></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> tap </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> core cask{</span><span style="color:#6F42C1;">,-fonts,-versions}</span><span style="color:#24292E;"> </span><span style="color:#032F62;">command-not-found</span><span style="color:#24292E;"> </span><span style="color:#032F62;">services</span><span style="color:#24292E;">; </span><span style="color:#D73A49;">do</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> [[ </span><span style="color:#032F62;">&quot;:\${</span><span style="color:#24292E;">BREW_TAPS</span><span style="color:#032F62;">}:&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#032F62;">&quot;:homebrew/\${</span><span style="color:#24292E;">tap</span><span style="color:#032F62;">}:&quot;</span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> ]]; </span><span style="color:#D73A49;">then</span><span style="color:#24292E;">  </span><span style="color:#6A737D;"># 只复原已安装的 Tap</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">brew</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tap</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--custom-remote</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;homebrew/\${</span><span style="color:#24292E;">tap</span><span style="color:#032F62;">}&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;https://github.com/Homebrew/homebrew-\${</span><span style="color:#24292E;">tap</span><span style="color:#032F62;">}&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">fi</span></span>
<span class="line"><span style="color:#D73A49;">done</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 重新拉取远程</span></span>
<span class="line"><span style="color:#6F42C1;">brew</span><span style="color:#24292E;"> </span><span style="color:#032F62;">update</span></span></code></pre></div><h2 id="设置proxy" tabindex="-1">设置proxy <a class="header-anchor" href="#设置proxy" aria-label="Permalink to &quot;设置proxy&quot;">​</a></h2><p>homebrew的代理直接使用的是bash的系统级代理，直接设置系统代理即可生效</p><div class="language-Bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#设置HTTP/HTTPS Proxy</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> HTTP_PROXY</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">http://your_proxy_server_address:your_proxy_port</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> HTTPS_PROXY</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">http://your_proxy_server_address:your_proxy_port</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#设置HTTP/HTTPS Proxy</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> HTTP_PROXY</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">http://your_proxy_server_address:your_proxy_port</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> HTTPS_PROXY</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">http://your_proxy_server_address:your_proxy_port</span></span></code></pre></div><h3 id="重置代理" tabindex="-1">重置代理 <a class="header-anchor" href="#重置代理" aria-label="Permalink to &quot;重置代理&quot;">​</a></h3><div class="language-Bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">unset</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">HTTP_PROXY</span></span>
<span class="line"><span style="color:#79B8FF;">unset</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">HTTPS_PROXY</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">unset</span><span style="color:#24292E;"> </span><span style="color:#032F62;">HTTP_PROXY</span></span>
<span class="line"><span style="color:#005CC5;">unset</span><span style="color:#24292E;"> </span><span style="color:#032F62;">HTTPS_PROXY</span></span></code></pre></div>`,11),e=[l];function t(r,c,y,E,i,F){return a(),n("div",null,e)}const _=s(p,[["render",t]]);export{h as __pageData,_ as default};
